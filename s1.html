<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S1</title>
</head>
<body>
    <a href="https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=775on1i1wmpzyv&redirect_uri=https%3A%2F%2Fsoniksarungale.com%2Fiia%2Fs1.html&state=foobar&scope=openid%20profile%20email"><img src="https://i.stack.imgur.com/mKpeu.png" alt="" style="width: 200px;"></a>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        var url = window.location.href;
var urlWithoutDomain = window.location.pathname;
var queryString = window.location.search;
var searchParams = new URLSearchParams(queryString);
if(searchParams.get('code')){
    var code = searchParams.get('code'); 
    console.log(code);
   
    var settings = {
  "url": "https://www.linkedin.com/oauth/v2/accessToken",
  "method": "POST",
  "timeout": 0,
  "headers": {
    "Content-Type": "application/x-www-form-urlencoded"
  },
  "data": {
    "grant_type": "authorization_code",
    "code": code,
    "client_id": "775on1i1wmpzyv",
    "client_secret": "UdsGnjDl6wOEbNn7",
    "redirect_uri": "https://soniksarungale.com/iia/s1.html"
  }
};

$.ajax(settings).done(function (response) {
    var access_token=response.access_token;
    
    /*
    var access_token="AQUOlk4CdyMDDqs85rGt141KIVPW2fFHP-yeQVuOUNgOrS5ng8JghC6x8pk6vC1eFBRrw9M2evmGhGh84NDYHA-wqgMwpmLu5-3F733V7VlOOiFvLJ3hiU-gas-xzyO1iciiC-Vmx1DuJdCUcWB431AwdxbYhKRn7uXBT1wgMpetTY1xM-JA-K1vuw2nFHOvQWqRdP6DGGXvosPxYjorxAmyYHQYfythD_Nj6EnitI6GW1leZqooI4YYOEGkEyAIHaPSPOhwvYg-56mqKHycohVd3OGzg_S6C5YBMOly__QYINGZxmR7srDwHI4k7_U5TNb4WlwqFXT3nVbFIXNFG71GI0qF7Q";
    */

    var myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer "+access_token);

var requestOptions = {
  method: 'GET',
  headers: myHeaders,
  redirect: 'follow'
};

fetch("https://api.linkedin.com/v2/userinfo", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));



});

}
    </script>
</body>
</html>